2025-09-07 17:21:15,333 - enhanced_fastapi_server - INFO - Voice Cloning API starting up...
2025-09-07 17:21:21,137 - enhanced_fastapi_server - INFO - Health check requested
2025-09-07 17:25:00,694 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 17:25:00,705 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 17:25:00,706 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 17:25:00,706 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 17:26:06,969 - __main__ - INFO - Request: GET http://localhost:8002/health?id=cd70ff69-d7e7-44ac-97b5-92db2b36a8f6&vscodeBrowserReqId=1757247966648
2025-09-07 17:26:06,973 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 17:26:11,491 - __main__ - INFO - Request: GET http://localhost:8002/docs?id=cd70ff69-d7e7-44ac-97b5-92db2b36a8f6&vscodeBrowserReqId=1757247971488
2025-09-07 17:26:11,492 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 17:26:11,573 - __main__ - INFO - Request: GET http://localhost:8002/openapi.json
2025-09-07 17:26:11,574 - __main__ - ERROR - Global exception: '_SpecialForm' object has no attribute 'replace'
2025-09-07 17:28:42,937 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 17:28:42,951 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 17:28:42,951 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 17:28:42,951 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 17:37:49,119 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 17:37:49,126 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 17:37:49,127 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 17:37:49,127 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 17:38:32,720 - __main__ - INFO - Request: GET http://localhost:8002/
2025-09-07 17:38:32,721 - __main__ - INFO - Response: 404 - 0.00s
2025-09-07 17:38:42,566 - __main__ - INFO - Request: GET http://localhost:8002/docs
2025-09-07 17:38:42,567 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 17:45:02,051 - __main__ - INFO - Request: GET http://localhost:8002/complete-pipeline
2025-09-07 17:45:02,051 - __main__ - INFO - Response: 405 - 0.00s
2025-09-07 17:45:06,451 - __main__ - INFO - Request: POST http://localhost:8002/complete-pipeline
2025-09-07 17:45:06,469 - __main__ - INFO - Response: 422 - 0.02s
2025-09-07 17:52:40,515 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 17:52:40,525 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 17:52:40,525 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 17:52:40,526 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 17:54:17,944 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:54:17,957 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 17:54:26,588 - __main__ - INFO - Request: GET https://490667741867.ngrok-free.app/health?id=a966a414-5f8f-4b81-9e06-02fa68152bf2&vscodeBrowserReqId=1757249663652
2025-09-07 17:54:26,590 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 17:54:38,347 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/health
2025-09-07 17:54:38,350 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 17:54:54,829 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:54:54,833 - __main__ - INFO - Response: 422 - 0.00s
2025-09-07 17:56:11,088 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:56:11,094 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 17:57:12,166 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:57:12,173 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 17:58:07,435 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:58:07,439 - __main__ - INFO - Response: 422 - 0.00s
2025-09-07 17:58:37,991 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:58:37,997 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 17:59:24,168 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 17:59:24,173 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 18:00:21,548 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 18:00:21,552 - __main__ - INFO - Response: 422 - 0.00s
2025-09-07 18:00:43,552 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 18:00:43,557 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 18:01:10,390 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 18:01:10,392 - __main__ - INFO - Response: 422 - 0.00s
2025-09-07 18:08:48,581 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 18:08:48,584 - __main__ - INFO - Response: 422 - 0.00s
2025-09-07 18:13:08,023 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 18:13:08,027 - __main__ - INFO - Response: 422 - 0.00s
2025-09-07 18:13:30,020 - __main__ - INFO - Request: POST https://490667741867.ngrok-free.app/complete-pipeline
2025-09-07 18:13:30,025 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 18:23:08,192 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 18:23:08,203 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 18:23:08,204 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 18:23:08,204 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 18:24:30,476 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/complete-pipeline
2025-09-07 18:24:30,483 - __main__ - INFO - Response: 422 - 0.01s
2025-09-07 18:26:41,323 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 18:26:41,333 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 18:26:41,334 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 18:26:41,334 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 18:27:34,767 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:27:34,771 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:27:34,778 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:27:34,779 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:27:34,779 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:27:34,781 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 18:27:50,749 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:27:50,749 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:27:50,751 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:27:50,751 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:27:50,752 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:27:50,753 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 18:28:58,612 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:28:58,614 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:28:58,616 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:28:58,616 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:28:58,617 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:28:58,618 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 18:31:59,350 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:31:59,351 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:31:59,352 - __main__ - INFO - Received form data: []
2025-09-07 18:31:59,353 - __main__ - INFO - PDF file type: <class 'NoneType'>
2025-09-07 18:31:59,354 - __main__ - INFO - Audio file type: <class 'NoneType'>
2025-09-07 18:31:59,355 - __main__ - ERROR - N8N Pipeline error: 400: Both PDF file and reference audio are required
2025-09-07 18:31:59,358 - __main__ - INFO - Response: 400 - 0.01s
2025-09-07 18:38:31,833 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:38:31,834 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:38:31,835 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:38:31,835 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:38:31,835 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:38:31,836 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 18:39:05,145 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:39:05,148 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:39:05,150 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:39:05,151 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:39:05,151 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:39:05,153 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 18:39:43,576 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:39:43,577 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:39:43,578 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:39:43,578 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:39:43,579 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:39:43,580 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 18:52:17,542 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:52:17,545 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:52:17,548 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:52:17,551 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:52:17,552 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:52:17,553 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 18:55:36,065 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 18:55:36,076 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 18:55:36,077 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 18:55:36,077 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 18:55:41,642 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:55:41,643 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:55:41,645 - __main__ - INFO - Received form data: ['Upload Book in PDF Form', 'Upload Voice Reference Audio', 'language', 'text_portion']
2025-09-07 18:55:41,645 - __main__ - INFO - PDF file type: <class 'NoneType'>
2025-09-07 18:55:41,645 - __main__ - INFO - Audio file type: <class 'NoneType'>
2025-09-07 18:55:41,646 - __main__ - ERROR - N8N Pipeline error: 400: Both PDF file and reference audio are required
2025-09-07 18:55:41,647 - __main__ - INFO - Response: 400 - 0.00s
2025-09-07 18:59:12,143 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 18:59:12,144 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 18:59:12,146 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 18:59:12,148 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 18:59:12,149 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 18:59:12,150 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 19:01:23,757 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:01:23,759 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:01:23,761 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:01:23,761 - __main__ - ERROR - N8N Pipeline error: could not convert string to float: '10% (Fast Processing)'
2025-09-07 19:01:23,761 - __main__ - INFO - Response: 400 - 0.00s
2025-09-07 19:01:33,365 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:01:33,367 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:01:33,370 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:01:33,370 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 19:01:33,371 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 19:01:33,372 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 19:12:45,198 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:12:45,200 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:12:45,201 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:12:45,202 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 19:12:45,202 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 19:12:45,203 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 19:13:22,311 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:13:22,311 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:13:22,313 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:13:22,314 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 19:13:22,315 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 19:13:22,315 - __main__ - INFO - Response: 200 - 0.00s
2025-09-07 19:14:51,560 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:14:51,561 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:14:51,564 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:14:51,565 - __main__ - ERROR - N8N Pipeline error: could not convert string to float: '10% (Fast Processing)'
2025-09-07 19:14:51,567 - __main__ - INFO - Response: 400 - 0.01s
2025-09-07 19:15:00,046 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:15:00,047 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:15:00,051 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:15:00,052 - __main__ - INFO - PDF file type: <class 'str'>
2025-09-07 19:15:00,053 - __main__ - INFO - Audio file type: <class 'str'>
2025-09-07 19:15:00,055 - __main__ - INFO - Response: 200 - 0.01s
2025-09-07 19:25:32,710 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 19:25:32,720 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 19:25:32,721 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 19:25:32,721 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 19:48:09,780 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:48:09,782 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:48:18,652 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:48:18,653 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:48:18,654 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:48:18,654 - __main__ - INFO - Processing binary files from n8n
2025-09-07 19:48:18,665 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_194818_uploaded_book.pdf
2025-09-07 19:48:18,668 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_194818_reference_voice.mp3
2025-09-07 19:48:18,669 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 19:48:18,669 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 19:48:18,878 - __main__ - ERROR - Pipeline error: No text extracted from PDF
2025-09-07 19:48:18,878 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: No text extracted from PDF
2025-09-07 19:48:18,879 - __main__ - INFO - Response: 200 - 9.10s
2025-09-07 19:50:39,061 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 19:50:39,070 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 19:50:39,070 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 19:50:39,070 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 19:51:06,012 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 19:51:06,027 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 19:51:06,027 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 19:51:06,027 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 19:52:29,466 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 19:52:29,478 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 19:52:29,478 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 19:52:29,478 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 19:53:21,797 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:53:21,798 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:53:26,456 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:53:26,457 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:53:26,458 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:53:26,458 - __main__ - INFO - Processing binary files from n8n
2025-09-07 19:53:26,475 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_195326_uploaded_book.pdf
2025-09-07 19:53:26,492 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_195326_reference_voice.mp3
2025-09-07 19:53:26,497 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 19:53:26,498 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 19:53:26,687 - __main__ - INFO - PDF has 440 pages
2025-09-07 19:53:26,688 - __main__ - INFO - Total extracted text length: 0
2025-09-07 19:53:26,688 - __main__ - ERROR - Insufficient text extracted. Length: 0
2025-09-07 19:53:26,689 - __main__ - ERROR - Pipeline error: No meaningful text extracted from PDF. Only got 0 characters.
2025-09-07 19:53:26,689 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: No meaningful text extracted from PDF. Only got 0 characters.
2025-09-07 19:53:26,690 - __main__ - INFO - Response: 200 - 4.89s
2025-09-07 19:55:39,722 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 19:55:39,732 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 19:55:39,732 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 19:55:39,732 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 19:56:28,391 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:56:28,393 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:56:36,903 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:56:36,904 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:56:36,905 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:56:36,906 - __main__ - INFO - Processing binary files from n8n
2025-09-07 19:56:36,933 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_195636_uploaded_book.pdf
2025-09-07 19:56:36,937 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_195636_reference_voice.mp3
2025-09-07 19:56:36,938 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 19:56:36,939 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 19:56:36,939 - __main__ - INFO - Trying PyPDF2 extraction...
2025-09-07 19:56:37,092 - __main__ - INFO - PDF has 440 pages
2025-09-07 19:56:37,093 - __main__ - INFO - PyPDF2 extracted text length: 0
2025-09-07 19:56:37,093 - __main__ - INFO - PyPDF2 failed, trying pdfplumber...
2025-09-07 19:56:37,094 - __main__ - INFO - Installing pdfplumber...
2025-09-07 19:56:57,694 - __main__ - ERROR - pdfplumber extraction failed: DLL load failed while importing _rust: The specified procedure could not be found.
2025-09-07 19:56:57,695 - __main__ - WARNING - All PDF extraction methods failed, using sample text for testing
2025-09-07 19:56:57,695 - __main__ - INFO - Using sample text with 860 characters
2025-09-07 19:56:57,695 - __main__ - INFO - Successfully extracted/prepared 860 characters for processing
2025-09-07 19:56:57,697 - __main__ - INFO - Step 2: Converting text to speech
2025-09-07 19:57:18,595 - __main__ - INFO - TTS audio saved: temp_files\tts_audio_20250907_195657.mp3
2025-09-07 19:57:18,600 - __main__ - INFO - Step 3: Cloning voice with OpenVoice
2025-09-07 19:57:18,603 - __main__ - INFO - Running OpenVoice cloning...
2025-09-07 19:57:45,617 - __main__ - ERROR - OpenVoice cloning failed: Traceback (most recent call last):
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 155, in load
    context = sf.SoundFile(path)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\soundfile.py", line 658, in __init__
    self._file = self._open(file, mode_int, closefd)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\soundfile.py", line 1216, in _open
    raise LibsndfileError(err, prefix="Error opening {0!r}: ".format(self.name))
soundfile.LibsndfileError: Error opening 'temp_files\tts_audio_20250907_195657.mp3': System error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files\temp_cloning_20250907_195718.py", line 41, in <module>
    if clone_voice():
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files\temp_cloning_20250907_195718.py", line 27, in clone_voice
    source_se, _ = se_extractor.get_se("temp_files\tts_audio_20250907_195657.mp3", tone_color_converter)
  File "OpenVoice\openvoice\se_extractor.py", line 134, in get_se
    audio_name = f"{os.path.basename(audio_path).rsplit('.', 1)[0]}_{version}_{hash_numpy_array(audio_path)}"
  File "OpenVoice\openvoice\se_extractor.py", line 119, in hash_numpy_array
    array, _ = librosa.load(audio_path, sr=None, mono=True)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\util\decorators.py", line 88, in inner_f
    return f(*args, **kwargs)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 174, in load
    y, sr_native = __audioread_load(path, offset, duration, dtype)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 198, in __audioread_load
    with audioread.audio_open(path) as input_file:
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\audioread\__init__.py", line 127, in audio_open
    return BackendClass(path)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\audioread\rawread.py", line 59, in __init__
    self._fh = open(filename, 'rb')
OSError: [Errno 22] Invalid argument: 'temp_files\tts_audio_20250907_195657.mp3'

2025-09-07 19:57:45,618 - __main__ - ERROR - Pipeline error: Voice cloning failed: Traceback (most recent call last):
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 155, in load
    context = sf.SoundFile(path)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\soundfile.py", line 658, in __init__
    self._file = self._open(file, mode_int, closefd)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\soundfile.py", line 1216, in _open
    raise LibsndfileError(err, prefix="Error opening {0!r}: ".format(self.name))
soundfile.LibsndfileError: Error opening 'temp_files\tts_audio_20250907_195657.mp3': System error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files\temp_cloning_20250907_195718.py", line 41, in <module>
    if clone_voice():
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files\temp_cloning_20250907_195718.py", line 27, in clone_voice
    source_se, _ = se_extractor.get_se("temp_files\tts_audio_20250907_195657.mp3", tone_color_converter)
  File "OpenVoice\openvoice\se_extractor.py", line 134, in get_se
    audio_name = f"{os.path.basename(audio_path).rsplit('.', 1)[0]}_{version}_{hash_numpy_array(audio_path)}"
  File "OpenVoice\openvoice\se_extractor.py", line 119, in hash_numpy_array
    array, _ = librosa.load(audio_path, sr=None, mono=True)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\util\decorators.py", line 88, in inner_f
    return f(*args, **kwargs)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 174, in load
    y, sr_native = __audioread_load(path, offset, duration, dtype)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 198, in __audioread_load
    with audioread.audio_open(path) as input_file:
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\audioread\__init__.py", line 127, in audio_open
    return BackendClass(path)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\audioread\rawread.py", line 59, in __init__
    self._fh = open(filename, 'rb')
OSError: [Errno 22] Invalid argument: 'temp_files\tts_audio_20250907_195657.mp3'

2025-09-07 19:57:45,618 - __main__ - INFO - Cleaned up: temp_files\extracted_text_20250907_195657.txt
2025-09-07 19:57:45,619 - __main__ - INFO - Cleaned up: temp_files\tts_audio_20250907_195657.mp3
2025-09-07 19:57:45,619 - __main__ - INFO - Cleaned up: temp_files\temp_cloning_20250907_195718.py
2025-09-07 19:57:45,619 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: Voice cloning failed: Traceback (most recent call last):
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 155, in load
    context = sf.SoundFile(path)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\soundfile.py", line 658, in __init__
    self._file = self._open(file, mode_int, closefd)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\soundfile.py", line 1216, in _open
    raise LibsndfileError(err, prefix="Error opening {0!r}: ".format(self.name))
soundfile.LibsndfileError: Error opening 'temp_files\tts_audio_20250907_195657.mp3': System error.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files\temp_cloning_20250907_195718.py", line 41, in <module>
    if clone_voice():
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files\temp_cloning_20250907_195718.py", line 27, in clone_voice
    source_se, _ = se_extractor.get_se("temp_files\tts_audio_20250907_195657.mp3", tone_color_converter)
  File "OpenVoice\openvoice\se_extractor.py", line 134, in get_se
    audio_name = f"{os.path.basename(audio_path).rsplit('.', 1)[0]}_{version}_{hash_numpy_array(audio_path)}"
  File "OpenVoice\openvoice\se_extractor.py", line 119, in hash_numpy_array
    array, _ = librosa.load(audio_path, sr=None, mono=True)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\util\decorators.py", line 88, in inner_f
    return f(*args, **kwargs)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 174, in load
    y, sr_native = __audioread_load(path, offset, duration, dtype)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\librosa\core\audio.py", line 198, in __audioread_load
    with audioread.audio_open(path) as input_file:
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\audioread\__init__.py", line 127, in audio_open
    return BackendClass(path)
  File "D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\venv39\lib\site-packages\audioread\rawread.py", line 59, in __init__
    self._fh = open(filename, 'rb')
OSError: [Errno 22] Invalid argument: 'temp_files\tts_audio_20250907_195657.mp3'

2025-09-07 19:57:45,619 - __main__ - INFO - Response: 200 - 77.23s
2025-09-07 19:59:10,794 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 19:59:10,805 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 19:59:10,806 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 19:59:10,806 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 19:59:34,326 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 19:59:34,327 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 19:59:42,478 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 19:59:42,479 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:59:42,479 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 19:59:42,480 - __main__ - INFO - Processing binary files from n8n
2025-09-07 19:59:42,489 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_195942_uploaded_book.pdf
2025-09-07 19:59:42,490 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_195942_reference_voice.mp3
2025-09-07 19:59:42,490 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 19:59:42,491 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 19:59:42,491 - __main__ - INFO - Trying PyPDF2 extraction...
2025-09-07 19:59:42,619 - __main__ - INFO - PDF has 440 pages
2025-09-07 19:59:42,619 - __main__ - INFO - PyPDF2 extracted text length: 0
2025-09-07 19:59:42,620 - __main__ - INFO - PyPDF2 failed, trying pdfplumber...
2025-09-07 19:59:42,860 - __main__ - INFO - Installing pdfplumber...
2025-09-07 19:59:44,825 - __main__ - ERROR - pdfplumber extraction failed: DLL load failed while importing _rust: The specified procedure could not be found.
2025-09-07 19:59:44,826 - __main__ - WARNING - All PDF extraction methods failed, using sample text for testing
2025-09-07 19:59:44,827 - __main__ - INFO - Using sample text with 860 characters
2025-09-07 19:59:44,827 - __main__ - INFO - Successfully extracted/prepared 860 characters for processing
2025-09-07 19:59:44,828 - __main__ - INFO - Step 2: Converting text to speech
2025-09-07 20:00:05,224 - __main__ - INFO - TTS audio saved: temp_files\tts_audio_20250907_195944.mp3
2025-09-07 20:00:05,224 - __main__ - INFO - Step 3: Cloning voice with OpenVoice
2025-09-07 20:00:05,226 - __main__ - INFO - Running OpenVoice cloning...
2025-09-07 20:00:09,252 - __main__ - ERROR - OpenVoice cloning failed: Voice cloning failed
2025-09-07 20:00:09,252 - __main__ - ERROR - Pipeline error: Voice cloning failed: Voice cloning failed
2025-09-07 20:00:09,252 - __main__ - INFO - Cleaned up: temp_files\extracted_text_20250907_195944.txt
2025-09-07 20:00:09,253 - __main__ - INFO - Cleaned up: temp_files\tts_audio_20250907_195944.mp3
2025-09-07 20:00:09,253 - __main__ - INFO - Cleaned up: temp_files\temp_cloning_20250907_200005.py
2025-09-07 20:00:09,253 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: Voice cloning failed: Voice cloning failed
2025-09-07 20:00:09,254 - __main__ - INFO - Response: 200 - 34.93s
2025-09-07 20:03:28,337 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 20:03:28,347 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 20:03:28,347 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 20:03:28,348 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 20:03:53,097 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 20:03:53,105 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 20:03:59,961 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 20:03:59,961 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:03:59,962 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:03:59,962 - __main__ - INFO - Processing binary files from n8n
2025-09-07 20:03:59,973 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_200359_uploaded_book.pdf
2025-09-07 20:03:59,976 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_200359_reference_voice.mp3
2025-09-07 20:03:59,976 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 20:03:59,977 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 20:03:59,977 - __main__ - INFO - Trying PyPDF2 extraction...
2025-09-07 20:04:00,156 - __main__ - INFO - PDF has 440 pages
2025-09-07 20:04:00,157 - __main__ - INFO - PyPDF2 extracted text length: 0
2025-09-07 20:04:00,157 - __main__ - INFO - PyPDF2 failed, trying pdfplumber...
2025-09-07 20:04:00,263 - __main__ - INFO - Installing pdfplumber...
2025-09-07 20:04:01,813 - __main__ - ERROR - pdfplumber extraction failed: DLL load failed while importing _rust: The specified procedure could not be found.
2025-09-07 20:04:01,818 - __main__ - WARNING - All PDF extraction methods failed, using sample text for testing
2025-09-07 20:04:01,819 - __main__ - INFO - Using sample text with 860 characters
2025-09-07 20:04:01,820 - __main__ - INFO - Successfully extracted/prepared 860 characters for processing
2025-09-07 20:04:01,833 - __main__ - INFO - Step 2: Converting text to speech
2025-09-07 20:04:21,302 - __main__ - INFO - TTS audio saved: temp_files\tts_audio_20250907_200401.mp3
2025-09-07 20:04:21,302 - __main__ - INFO - Step 3: Cloning voice with OpenVoice
2025-09-07 20:04:21,313 - __main__ - INFO - Running OpenVoice cloning...
2025-09-07 20:04:25,346 - __main__ - INFO - Cloning script stdout: Using device: cpu
Source audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
Reference audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files
8n_20250907_200359_reference_voice.mp3
Output: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_filesinal_cloned_voice_20250907_200421.wav
Error: Source audio file not found: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
FAILED

2025-09-07 20:04:25,358 - __main__ - ERROR - OpenVoice cloning failed: Return code: 0, Stdout: Using device: cpu
Source audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
Reference audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files
8n_20250907_200359_reference_voice.mp3
Output: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_filesinal_cloned_voice_20250907_200421.wav
Error: Source audio file not found: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
FAILED

2025-09-07 20:04:25,358 - __main__ - ERROR - Pipeline error: Voice cloning failed: Return code: 0, Stdout: Using device: cpu
Source audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
Reference audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files
8n_20250907_200359_reference_voice.mp3
Output: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_filesinal_cloned_voice_20250907_200421.wav
Error: Source audio file not found: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
FAILED

2025-09-07 20:04:25,359 - __main__ - INFO - Cleaned up: temp_files\extracted_text_20250907_200401.txt
2025-09-07 20:04:25,359 - __main__ - INFO - Cleaned up: temp_files\tts_audio_20250907_200401.mp3
2025-09-07 20:04:25,359 - __main__ - INFO - Cleaned up: temp_files\temp_cloning_20250907_200421.py
2025-09-07 20:04:25,359 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: Voice cloning failed: Return code: 0, Stdout: Using device: cpu
Source audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
Reference audio: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files
8n_20250907_200359_reference_voice.mp3
Output: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_filesinal_cloned_voice_20250907_200421.wav
Error: Source audio file not found: D:/Coding/Sem_7/GenAI/22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1/temp_files	ts_audio_20250907_200401.mp3
FAILED

2025-09-07 20:04:25,360 - __main__ - INFO - Response: 200 - 32.26s
2025-09-07 20:09:12,761 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 20:09:12,772 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 20:09:12,772 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 20:09:12,772 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 20:09:37,982 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 20:09:37,988 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 20:09:54,616 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 20:09:54,616 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:09:54,617 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:09:54,617 - __main__ - INFO - Processing binary files from n8n
2025-09-07 20:09:54,630 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_200954_uploaded_book.pdf
2025-09-07 20:09:54,631 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_200954_reference_voice.mp3
2025-09-07 20:09:54,632 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 20:09:54,632 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 20:09:54,633 - __main__ - INFO - Trying PyPDF2 extraction...
2025-09-07 20:09:54,717 - __main__ - INFO - PDF has 440 pages
2025-09-07 20:09:54,717 - __main__ - INFO - PyPDF2 extracted text length: 0
2025-09-07 20:09:54,718 - __main__ - INFO - PyPDF2 failed, trying pdfplumber...
2025-09-07 20:09:54,769 - __main__ - INFO - Installing pdfplumber...
2025-09-07 20:09:56,911 - __main__ - ERROR - pdfplumber extraction failed: DLL load failed while importing _rust: The specified procedure could not be found.
2025-09-07 20:09:56,911 - __main__ - WARNING - All PDF extraction methods failed, using sample text for testing
2025-09-07 20:09:56,912 - __main__ - INFO - Using sample text with 860 characters
2025-09-07 20:09:56,912 - __main__ - INFO - Successfully extracted/prepared 860 characters for processing
2025-09-07 20:09:56,912 - __main__ - INFO - Step 2: Converting text to speech
2025-09-07 20:10:18,725 - __main__ - INFO - TTS audio saved: temp_files\tts_audio_20250907_200956.mp3
2025-09-07 20:10:18,725 - __main__ - INFO - Step 3: Cloning voice with OpenVoice
2025-09-07 20:10:18,737 - __main__ - INFO - Running OpenVoice cloning...
2025-09-07 20:10:25,778 - __main__ - INFO - Cloning script stdout: Using device: cpu
Source audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
Reference audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files
8n_20250907_200954_reference_voice.mp3
Output: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_filesinal_cloned_voice_20250907_201018.wav
Error: Source audio file not found: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
FAILED

2025-09-07 20:10:25,779 - __main__ - ERROR - OpenVoice cloning failed: Return code: 0, Stdout: Using device: cpu
Source audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
Reference audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files
8n_20250907_200954_reference_voice.mp3
Output: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_filesinal_cloned_voice_20250907_201018.wav
Error: Source audio file not found: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
FAILED

2025-09-07 20:10:25,779 - __main__ - ERROR - Pipeline error: Voice cloning failed: Return code: 0, Stdout: Using device: cpu
Source audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
Reference audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files
8n_20250907_200954_reference_voice.mp3
Output: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_filesinal_cloned_voice_20250907_201018.wav
Error: Source audio file not found: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
FAILED

2025-09-07 20:10:25,779 - __main__ - INFO - Cleaned up: temp_files\extracted_text_20250907_200956.txt
2025-09-07 20:10:25,779 - __main__ - INFO - Cleaned up: temp_files\tts_audio_20250907_200956.mp3
2025-09-07 20:10:25,780 - __main__ - INFO - Cleaned up: temp_files\temp_cloning_20250907_201018.py
2025-09-07 20:10:25,780 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: Voice cloning failed: Return code: 0, Stdout: Using device: cpu
Source audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
Reference audio: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files
8n_20250907_200954_reference_voice.mp3
Output: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_filesinal_cloned_voice_20250907_201018.wav
Error: Source audio file not found: D:\Coding\Sem_7\GenAI\22F-3718_Muhammad Hasnain_GenAI_Assignemnet_1\temp_files	ts_audio_20250907_200956.mp3
FAILED

2025-09-07 20:10:25,780 - __main__ - INFO - Response: 200 - 47.80s
2025-09-07 20:15:38,042 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 20:15:38,052 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 20:15:38,052 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 20:15:38,052 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 20:16:06,440 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 20:16:06,446 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 20:16:23,692 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 20:16:23,692 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:16:23,692 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:16:23,692 - __main__ - INFO - Processing binary files from n8n
2025-09-07 20:16:23,714 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_201623_uploaded_book.pdf
2025-09-07 20:16:23,716 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_201623_reference_voice.mp3
2025-09-07 20:16:23,717 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 20:16:23,718 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 20:16:23,718 - __main__ - INFO - Trying PyPDF2 extraction...
2025-09-07 20:16:23,783 - __main__ - INFO - PDF has 440 pages
2025-09-07 20:16:23,784 - __main__ - INFO - PyPDF2 extracted text length: 0
2025-09-07 20:16:23,784 - __main__ - INFO - PyPDF2 failed, trying pdfplumber...
2025-09-07 20:16:23,836 - __main__ - INFO - Installing pdfplumber...
2025-09-07 20:16:25,619 - __main__ - ERROR - pdfplumber extraction failed: DLL load failed while importing _rust: The specified procedure could not be found.
2025-09-07 20:16:25,619 - __main__ - WARNING - All PDF extraction methods failed, using sample text for testing
2025-09-07 20:16:25,620 - __main__ - INFO - Using sample text with 860 characters
2025-09-07 20:16:25,620 - __main__ - INFO - Successfully extracted/prepared 860 characters for processing
2025-09-07 20:16:25,621 - __main__ - INFO - Step 2: Converting text to speech
2025-09-07 20:16:46,996 - __main__ - INFO - TTS audio saved: temp_files\tts_audio_20250907_201625.mp3
2025-09-07 20:16:46,997 - __main__ - INFO - Step 3: Cloning voice with OpenVoice
2025-09-07 20:16:47,009 - __main__ - INFO - Running OpenVoice cloning...
2025-09-07 20:18:33,657 - __main__ - INFO - Cloning script stdout: Using device: cpu
Source audio: temp_files\\tts_audio_20250907_201625.mp3
Reference audio: temp_files\\n8n_20250907_201623_reference_voice.mp3
Output: temp_files\\final_cloned_voice_20250907_201646.wav
Loaded checkpoint 'OpenVoice/checkpoints/converter/checkpoint.pth'
missing/unexpected keys: [] []
Extracting source embedding...
OpenVoice version: v2
[(0.0, 58.152)]
after vad: dur = 58.152
Extracting reference embedding...
OpenVoice version: v2
[(0.0, 11.6448125)]
after vad: dur = 11.644
Converting voice...
Voice cloning completed successfully!
SUCCESS

2025-09-07 20:18:33,657 - __main__ - INFO - Voice cloning successful: temp_files\final_cloned_voice_20250907_201646.wav
2025-09-07 20:18:33,659 - __main__ - INFO - Cleaned up: temp_files\n8n_20250907_201623_uploaded_book.pdf
2025-09-07 20:18:33,659 - __main__ - INFO - Cleaned up: temp_files\n8n_20250907_201623_reference_voice.mp3
2025-09-07 20:18:33,659 - __main__ - INFO - N8N pipeline completed successfully
2025-09-07 20:18:33,660 - __main__ - INFO - Response: 200 - 147.22s
2025-09-07 20:25:23,956 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 20:25:23,967 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 20:25:23,968 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 20:25:23,968 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 20:27:15,794 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 20:27:15,798 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 20:28:04,983 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 20:28:04,983 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:28:04,983 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:28:04,984 - __main__ - INFO - Processing binary files from n8n
2025-09-07 20:28:04,984 - __main__ - ERROR - Error saving n8n file: [Errno 2] No such file or directory: 'temp_files\\n8n_20250907_202804_uploaded_book.pdf'
2025-09-07 20:28:04,984 - __main__ - ERROR - N8N Pipeline error: 400: Error saving file: [Errno 2] No such file or directory: 'temp_files\\n8n_20250907_202804_uploaded_book.pdf'
2025-09-07 20:28:04,985 - __main__ - INFO - Response: 200 - 49.19s
2025-09-07 20:30:07,685 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 20:30:07,687 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 20:30:54,044 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 20:30:54,044 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:30:54,045 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:30:54,046 - __main__ - INFO - Processing binary files from n8n
2025-09-07 20:30:54,047 - __main__ - ERROR - Error saving n8n file: [Errno 2] No such file or directory: 'temp_files\\n8n_20250907_203054_uploaded_book.pdf'
2025-09-07 20:30:54,048 - __main__ - ERROR - N8N Pipeline error: 400: Error saving file: [Errno 2] No such file or directory: 'temp_files\\n8n_20250907_203054_uploaded_book.pdf'
2025-09-07 20:30:54,049 - __main__ - INFO - Response: 200 - 46.36s
2025-09-07 20:37:31,237 - __main__ - INFO - Temp directory ensured: temp_files
2025-09-07 20:37:31,237 - __main__ - INFO - Temp directory write permissions verified
2025-09-07 20:37:31,247 - __main__ - INFO - Starting Voice Cloning Pipeline API v2.0.0
2025-09-07 20:37:31,247 - __main__ - INFO - Server will be available at: http://0.0.0.0:8002
2025-09-07 20:37:31,247 - __main__ - INFO - API Documentation: http://0.0.0.0:8002/docs
2025-09-07 20:41:58,847 - __main__ - INFO - Request: POST https://ad1bcff29e02.ngrok-free.app/n8n-pipeline
2025-09-07 20:41:58,850 - __main__ - INFO - Starting n8n pipeline process
2025-09-07 20:42:13,107 - __main__ - INFO - Received form data: ['pdf_file', 'reference_audio', 'language', 'text_portion']
2025-09-07 20:42:13,107 - __main__ - INFO - PDF file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:42:13,108 - __main__ - INFO - Audio file type: <class 'starlette.datastructures.UploadFile'>
2025-09-07 20:42:13,108 - __main__ - INFO - Processing binary files from n8n
2025-09-07 20:42:13,118 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_204213_uploaded_book.pdf
2025-09-07 20:42:13,120 - __main__ - INFO - Saved n8n file to: temp_files\n8n_20250907_204213_reference_voice.mp3
2025-09-07 20:42:13,121 - __main__ - INFO - Starting integrated voice cloning pipeline
2025-09-07 20:42:13,121 - __main__ - INFO - Step 1: Extracting text from PDF
2025-09-07 20:42:13,121 - __main__ - INFO - Trying PyPDF2 extraction...
2025-09-07 20:42:13,190 - __main__ - INFO - PDF has 440 pages
2025-09-07 20:42:13,193 - __main__ - WARNING - No text found on page 1
2025-09-07 20:42:13,203 - __main__ - INFO - PyPDF2 extracted 45 chars from page 2
2025-09-07 20:42:13,205 - __main__ - WARNING - No text found on page 3
2025-09-07 20:42:13,250 - __main__ - INFO - PyPDF2 extracted 1524 chars from page 4
2025-09-07 20:42:13,264 - __main__ - INFO - PyPDF2 extracted 526 chars from page 5
2025-09-07 20:42:13,292 - __main__ - INFO - PyPDF2 extracted 654 chars from page 6
2025-09-07 20:42:13,305 - __main__ - INFO - PyPDF2 extracted 373 chars from page 7
2025-09-07 20:42:13,310 - __main__ - INFO - PyPDF2 extracted 45 chars from page 8
2025-09-07 20:42:13,342 - __main__ - INFO - PyPDF2 extracted 1447 chars from page 9
2025-09-07 20:42:13,344 - __main__ - INFO - PyPDF2 extracted 63 chars from page 10
2025-09-07 20:42:13,346 - __main__ - WARNING - No text found on page 11
2025-09-07 20:42:13,393 - __main__ - INFO - PyPDF2 extracted 1711 chars from page 12
2025-09-07 20:42:13,418 - __main__ - INFO - PyPDF2 extracted 966 chars from page 13
2025-09-07 20:42:13,503 - __main__ - INFO - PyPDF2 extracted 2377 chars from page 14
2025-09-07 20:42:13,520 - __main__ - INFO - PyPDF2 extracted 933 chars from page 15
2025-09-07 20:42:13,571 - __main__ - INFO - PyPDF2 extracted 2403 chars from page 16
2025-09-07 20:42:13,630 - __main__ - INFO - PyPDF2 extracted 2742 chars from page 17
2025-09-07 20:42:13,670 - __main__ - INFO - PyPDF2 extracted 1422 chars from page 18
2025-09-07 20:42:13,739 - __main__ - INFO - PyPDF2 extracted 2367 chars from page 19
2025-09-07 20:42:13,812 - __main__ - INFO - PyPDF2 extracted 2817 chars from page 20
2025-09-07 20:42:13,813 - __main__ - INFO - PyPDF2 extracted text length: 22432
2025-09-07 20:42:13,813 - __main__ - INFO - Successfully extracted/prepared 22432 characters using PyPDF2
2025-09-07 20:42:13,813 - __main__ - INFO - Text preview: Also by Max Tegmark Our Mathematical Universe This Is a Borzoi Book Published by Alfred A. Knopf Copyright  2017 by Max Tegmark All rights reserved. Published in the United States by Alfred A. Knopf, ...
2025-09-07 20:42:13,814 - __main__ - INFO - Step 2: Converting text to speech
2025-09-07 20:54:14,715 - __main__ - ERROR - Pipeline error: Failed to connect. Probable cause: Unknown
2025-09-07 20:54:14,716 - __main__ - WARNING - Keeping temp files for debugging - please clean manually
2025-09-07 20:54:14,717 - __main__ - ERROR - N8N Pipeline error: Pipeline failed: Failed to connect. Probable cause: Unknown
2025-09-07 20:54:14,718 - __main__ - INFO - Response: 200 - 735.87s
2025-09-07 20:54:14,720 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Hasnain\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Hasnain\AppData\Local\Programs\Python\Python39\lib\asyncio\proactor_events.py", line 162, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
